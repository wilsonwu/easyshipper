<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .preview { margin: 10px; border: 1px solid #ccc; display: inline-block; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h1>EasyShipper Icon Generator</h1>
    <p>Click the button below to generate and download the PNG icons required for the extension.</p>
    
    <div id="container"></div>
    
    <script>
        const svgData = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
  <rect x="0" y="0" width="128" height="128" rx="24" fill="#007bff"/>
  <path d="M34 50 L64 34 L94 50 L94 86 L64 102 L34 86 Z" fill="#ffffff" stroke="#ffffff" stroke-width="4" stroke-linejoin="round"/>
  <path d="M34 50 L64 66 L94 50" fill="none" stroke="#007bff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M64 66 L64 102" fill="none" stroke="#007bff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M80 75 L55 95 L45 85" fill="none" stroke="#28a745" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`;

        const sizes = [16, 48, 128];

        function generateIcons() {
            sizes.forEach(size => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = size;
                    canvas.height = size;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, size, size);
                    
                    const a = document.createElement('a');
                    a.href = canvas.toDataURL('image/png');
                    a.download = `icon-${size}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                };
                img.src = 'data:image/svg+xml;base64,' + btoa(svgData);
            });
        }

        const btn = document.createElement('button');
        btn.innerText = "Download Icons";
        btn.onclick = generateIcons;
        document.body.appendChild(btn);

        // Preview
        const previewImg = new Image();
        previewImg.src = 'data:image/svg+xml;base64,' + btoa(svgData);
        previewImg.width = 128;
        previewImg.height = 128;
        document.getElementById('container').appendChild(previewImg);

    </script>
</body>
</html>